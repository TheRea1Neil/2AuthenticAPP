@model PaginatedList<_2AuthenticAPP.Models.ProductViewModel>
@{
    ViewData["Title"] = "Home Page";
    var categories = ViewBag.Categories as List<string>;
}

<div class="container">
    <div class="filter-section">
        <h4>Filter</h4>
        <div class="form-group">
            <select>
                <option value="">Popular</option>
                <option value="">Top 5</option>
                <option value="">Newest</option>
                <option value="">Oldest</option>
            </select>
        </div>

        <h4>Category</h4>
        <div class="form-group">
            @foreach (var category in categories )
                {
                    <p>@category</p>
                }
            <label><input type="checkbox"> Star Wars</label>
            <label><input type="checkbox"> DC</label>
            <label><input type="checkbox"> Harry Potter</label>
            <label><input type="checkbox"> Technic</label>
            <label><input type="checkbox"> Vehicle</label>
            <label><input type="checkbox"> Person</label>

            <!-- Hidden categories that will be shown when "See More" is clicked -->
            <div id="additionalCategories" style="display: none;">
                <label><input type="checkbox"> Category 1</label>
                <label><input type="checkbox"> Category 2</label>
                <!-- Add more hidden categories here -->
            </div>
    
            <!-- Button to toggle more/less categories -->
            <button onclick="toggleCategories()" id="toggleButton">See More</button>
        </div>

        @section Scripts {
            <script>
                function toggleCategories() {
                    var additionalCategories = document.getElementById('additionalCategories');
                    var toggleButton = document.getElementById('toggleButton');
            
                    if (additionalCategories.style.display === 'none') {
                        additionalCategories.style.display = 'block';
                        toggleButton.textContent = 'See Less';
                    } else {
                        additionalCategories.style.display = 'none';
                        toggleButton.textContent = 'See More';
                    }
                }
            </script>
}


        <h4>Number of Parts</h4>
        <div class="form-group">
            <label><input type="radio" name="parts"> 0 - 99</label>
            <label><input type="radio" name="parts"> 100 - 499</label>
            <label><input type="radio" name="parts"> 500 - 999</label>
            <label><input type="radio" name="parts"> 1000+</label>
        </div>

        <h4>Price</h4>
        <div class="form-group">
            <label>Min: <input type="number" min="0" step="1"></label>
            <label>Max: <input type="number" min="0" step="1"></label>
        </div>

        <h4>Primary Color</h4>
        <div class="form-group">
            <select>
                <option value="">Select Color</option>
                <!-- Add more color options -->
            </select>
        </div>

        <h4>Secondary Color</h4>
        <div class="form-group">
            <select>
                <option value="">Select Color</option>
                <!-- Add more color options -->
            </select>
        </div>
    </div>

    <div class="product-grid">
        <div class="grid-header">
            <h2>Popular Items</h2>
            <div class="pagination top-pagination">
                @if (Model.HasPreviousPage)
                {
                    <a href="@Url.Action("Index", new { pageNumber = Model.PageIndex - 1 })">Prev</a>
                }
                @for (int i = 1; i <= Model.TotalPages; i++)
                {
                    <a class="@(i == Model.PageIndex ? "active" : "")" href="@Url.Action("Index", new { pageNumber = i })">@i</a>
                }
                @if (Model.HasNextPage)
                {
                    <a href="@Url.Action("Index", new { pageNumber = Model.PageIndex + 1 })">Next</a>
                }
            </div>
        </div>

        <div class="product-row">
            @foreach (var product in Model)
            {
                <div class="product-card">
                    <a href="@Url.Action("Details", "Home", new { id = product.ProductId })" class="product-link">
                        <img src="@product.ImgLink" alt="@product.Name">
                        <h3 class="product-name">@product.Name</h3>
                        <div class="rating">
                            @product.AverageRating?.ToString("0.0")<span class="star">&#9733;</span>
                        </div>
                        <div class="product-details">
                            <div class="price-wrapper">
                                <span class="price">@product.Price?.ToString("C")</span>
                            </div>
                            <button class="btn btn-add-to-cart">Add to Cart</button>
                        </div>
                    </a>
                </div>
                if ((@Model.IndexOf(product) + 1) % 3 == 0 && @Model.IndexOf(product) + 1 < Model.Count)
                {
                    @:</div><div class="product-row">
                }
            }
        </div>
    </div>
</div>